{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\n\nfunction usePersist(ky, initVal) {\n  _s();\n\n  const key = \"hooks:\" + ky;\n\n  const value = () => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initVal;\n    } catch (err) {\n      console.log(err);\n      return initVal;\n    }\n  };\n\n  const setValue = val => {\n    try {\n      setSavedValue(val);\n      window.localStorage.setItem(key, JSON.stringify(val));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const [savedValue, setSavedValue] = useState(value);\n  return [savedValue, setValue];\n}\n\n_s(usePersist, \"F5qYMz8e7c0N8+B8QN68s6YrAAM=\");\n\nexport default usePersist;","map":{"version":3,"sources":["/Users/sasakireiou/Desktop/react_practice/src/Persist.js"],"names":["React","useState","usePersist","ky","initVal","key","value","item","window","localStorage","getItem","JSON","parse","err","console","log","setValue","val","setSavedValue","setItem","stringify","savedValue"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,SAASC,UAAT,CAAoBC,EAApB,EAAwBC,OAAxB,EAAgC;AAAA;;AAC9B,QAAMC,GAAG,GAAG,WAAWF,EAAvB;;AACA,QAAMG,KAAK,GAAG,MAAM;AAClB,QAAG;AACD,YAAMC,IAAI,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BL,GAA5B,CAAb;AACA,aAAOE,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAH,GAAsBH,OAAjC;AACD,KAHD,CAGC,OAAMS,GAAN,EAAU;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,aAAOT,OAAP;AACD;AACF,GARD;;AASA,QAAMY,QAAQ,GAAIC,GAAD,IAAQ;AACvB,QAAG;AACDC,MAAAA,aAAa,CAACD,GAAD,CAAb;AACAT,MAAAA,MAAM,CAACC,YAAP,CAAoBU,OAApB,CAA4Bd,GAA5B,EAAiCM,IAAI,CAACS,SAAL,CAAeH,GAAf,CAAjC;AACD,KAHD,CAGC,OAAMJ,GAAN,EAAU;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,GAPD;;AAQA,QAAM,CAACQ,UAAD,EAAaH,aAAb,IAA8BjB,QAAQ,CAACK,KAAD,CAA5C;AACA,SAAO,CAACe,UAAD,EAAaL,QAAb,CAAP;AACD;;GArBQd,U;;AAuBT,eAAeA,UAAf","sourcesContent":["import React, { useState } from 'react'\n\nfunction usePersist(ky, initVal){\n  const key = \"hooks:\" + ky\n  const value = () => {\n    try{\n      const item = window.localStorage.getItem(key)\n      return item ? JSON.parse(item) : initVal\n    }catch(err){\n      console.log(err)\n      return initVal;\n    }\n  }\n  const setValue = (val) =>{\n    try{\n      setSavedValue(val)\n      window.localStorage.setItem(key, JSON.stringify(val))\n    }catch(err){\n      console.log(err)\n    }\n  }\n  const [savedValue, setSavedValue] = useState(value)\n  return [savedValue, setValue]\n}\n\nexport default usePersist"]},"metadata":{},"sourceType":"module"}